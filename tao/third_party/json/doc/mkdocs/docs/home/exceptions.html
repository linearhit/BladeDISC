

<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Exceptions &mdash; BladeDISC 1.0.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../../../../../../_static/css/theme.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../../../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../../../_static/css/theme.min.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../../../_static/copybutton.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../../search.html" /> 

</head>

<body>
    <header>
        <div class="container">
            <a class="site-nav-toggle hidden-lg-up"><i class="icon-menu"></i></a>
            <a class="site-title" href="../../../../../../../index.html">
                BladeDISC
            </a>
        </div>
    </header>


<div class="breadcrumbs-outer hidden-xs-down">
    <div class="container">
        















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="breadcrumbs">
    
      <li><a href="../../../../../../../index.html">Docs</a></li>
        
      <li>Exceptions</li>
    
    
      <li class="breadcrumbs-aside">
        
            
            <a href="../../../../../../../_sources/tao/third_party/json/doc/mkdocs/docs/home/exceptions.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>
</div>
    </div>
</div>
    <div class="main-outer">
        <div class="container">
            <div class="row">
                <div class="col-12 col-lg-3 site-nav">
                    
<div role="search">
    <form class="search" action="../../../../../../../search.html" method="get">
        <div class="icon-input">
            <input type="text" name="q" placeholder="Search" />
            <span class="icon-search"></span>
        </div>
        <input type="submit" value="Go" class="d-hidden" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div>
                    <div class="site-nav-tree">
                        
                            
                            
                                <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../README_.html">BladeDISC Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../README_.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../README_.html#api-quickview">API QuickView</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../README_.html#for-pytorch-users">For PyTorch Users</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../README_.html#setup-and-examples">Setup and Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../README_.html#publications">Publications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../README_.html#tutorials-and-documents-for-developers">Tutorials and Documents for Developers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../README_.html#how-to-contribute">How to Contribute</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../README_.html#faq">FAQ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../README_.html#contact-us">Contact Us</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../docs/install_with_docker.html">Install with Docker</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../docs/install_with_docker.html#download-a-bladedisc-docker-image">Download a BladeDISC Docker Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../docs/install_with_docker.html#start-a-docker-container">Start a Docker Container</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../docs/build_from_source.html">Build from Source</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../docs/build_from_source.html#prerequisite">Prerequisite</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../docs/build_from_source.html#checkout-the-source">Checkout the Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../docs/build_from_source.html#building-bladedisc-for-tensorflow-users">Building BladeDISC for TensorFlow Users</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../docs/build_from_source.html#building-bladedisc-for-pytorch-users">Building BladeDISC for PyTorch Users</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../docs/quickstart.html">Quickstart for TensorFlow/PyTorch users</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../docs/quickstart.html#quickstart-for-tensorflow-users">Quickstart for TensorFlow Users</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../docs/quickstart.html#quickstart-for-pytorch-users">Quickstart for PyTorch Users</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../docs/contribution.html">How to Contribute</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../docs/contribution.html#local-development-environment">Local Development Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../docs/contribution.html#submit-a-pull-request-to-bladedisc">Submit a Pull Request to BladeDISC</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../docs/developers/index.html">Documentation for Developers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../docs/developers/pass_pipeline.html">Tutorial: A Walkthough of the BladeDISC Pass Pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../docs/developers/runtime_abstraction_layer.html">Runtime Abstraction Layer Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../docs/developers/bladedisc_torch_overview.html">BladeDISC Torch Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../docs/developers/torch_add_a_new_converter.html">Tutorial: How to add the support of a new Torch Op</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../docs/tutorials/index.html">Tutorials on Example Use Cases</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../docs/tutorials/tensorflow_inference_and_training.html">Use case of TensorFlow Inference and Training</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../../../../docs/tutorials/torch_bert_inference.html">Use case of PyTorch Inference</a></li>
</ul>
</li>
</ul>

                            
                        
                    </div>
                </div>
                <div class="col-12 col-lg-9">
                    <div class="document">
                        
                            
  <div class="section" id="exceptions">
<h1>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<div class="section" id="base-type">
<h3>Base type<a class="headerlink" href="#base-type" title="Permalink to this headline">¶</a></h3>
<p>All exceptions inherit from class <code class="docutils literal notranslate"><span class="pre">json::exception</span></code> (which in turn inherits from <code class="docutils literal notranslate"><span class="pre">std::exception</span></code>). It is used as the base class for all exceptions thrown by the <code class="docutils literal notranslate"><span class="pre">basic_json</span></code> class. This class can hence be used as “wildcard” to catch exceptions.</p>
<div class="highlight-plantuml notranslate"><div class="highlight"><pre><span></span>std::exception &lt;|-- json::exception
json::exception &lt;|-- json::parse_error
json::exception &lt;|-- json::invalid_iterator
json::exception &lt;|-- json::type_error
json::exception &lt;|-- json::out_of_range
json::exception &lt;|-- json::other_error

interface std::exception {}

class json::exception {
    + const int id
    + const char* what() const
}

class json::parse_error {
    + const std::size_t byte
}
</pre></div>
</div>
</div>
<div class="section" id="switch-off-exceptions">
<h3>Switch off exceptions<a class="headerlink" href="#switch-off-exceptions" title="Permalink to this headline">¶</a></h3>
<p>Exceptions are used widely within the library. They can, however, be switched off with either using the compiler flag <code class="docutils literal notranslate"><span class="pre">-fno-exceptions</span></code> or by defining the symbol <code class="docutils literal notranslate"><span class="pre">JSON_NOEXCEPTION</span></code>. In this case, exceptions are replaced by <code class="docutils literal notranslate"><span class="pre">abort()</span></code> calls. You can further control this behavior by defining <code class="docutils literal notranslate"><span class="pre">JSON_THROW_USER</span></code> (overriding <code class="docutils literal notranslate"><span class="pre">#!cpp</span> <span class="pre">throw</span></code>), <code class="docutils literal notranslate"><span class="pre">JSON_TRY_USER</span></code> (overriding <code class="docutils literal notranslate"><span class="pre">#!cpp</span> <span class="pre">try</span></code>), and <code class="docutils literal notranslate"><span class="pre">JSON_CATCH_USER</span></code> (overriding <code class="docutils literal notranslate"><span class="pre">#!cpp</span> <span class="pre">catch</span></code>).</p>
<p>Note that <code class="docutils literal notranslate"><span class="pre">JSON_THROW_USER</span></code> should leave the current scope (e.g., by throwing or aborting), as continuing after it may yield undefined behavior.</p>
<p>??? example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>The code below switches off exceptions and creates a log entry with a detailed error message in case of errors.

```cpp
#include &lt;iostream&gt;

#define JSON_TRY_USER if(true)
#define JSON_CATCH_USER(exception) if(false)
#define JSON_THROW_USER(exception)                           \
    {std::clog &lt;&lt; &quot;Error in &quot; &lt;&lt; __FILE__ &lt;&lt; &quot;:&quot; &lt;&lt; __LINE__ \
               &lt;&lt; &quot; (function &quot; &lt;&lt; __FUNCTION__ &lt;&lt; &quot;) - &quot;    \
               &lt;&lt; (exception).what() &lt;&lt; std::endl;           \
     std::abort();}

#include &lt;nlohmann/json.hpp&gt;
```
</pre></div>
</div>
<p>Note the explanatory <a class="reference external" href="https://en.cppreference.com/w/cpp/error/exception/what"><code class="docutils literal notranslate"><span class="pre">what()</span></code></a> string of exceptions is not available for MSVC if exceptions are disabled, see <a class="reference external" href="https://github.com/nlohmann/json/discussions/2824">#2824</a>.</p>
</div>
<div class="section" id="extended-diagnostic-messages">
<h3>Extended diagnostic messages<a class="headerlink" href="#extended-diagnostic-messages" title="Permalink to this headline">¶</a></h3>
<p>Exceptions in the library are thrown in the local context of the JSON value they are detected. This makes detailed diagnostics messages, and hence debugging, difficult.</p>
<p>??? example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```cpp
--8&lt;-- &quot;examples/diagnostics_standard.cpp&quot;
```

Output:

```
--8&lt;-- &quot;examples/diagnostics_standard.output&quot;
```

This exception can be hard to debug if storing the value `#!c &quot;12&quot;` and accessing it is further apart.
</pre></div>
</div>
<p>To create better diagnostics messages, each JSON value needs a pointer to its parent value such that a global context (i.e., a path from the root value to the value that lead to the exception) can be created. That global context is provided as <a class="reference internal" href="../features/json_pointer.html"><span class="doc">JSON Pointer</span></a>.</p>
<p>As this global context comes at the price of storing one additional pointer per JSON value and runtime overhead to maintain the parent relation, extended diagnostics are disabled by default. They can, however, be enabled by defining the preprocessor symbol JSON_DIAGNOSTICS to <code class="docutils literal notranslate"><span class="pre">1</span></code> before including <code class="docutils literal notranslate"><span class="pre">json.hpp</span></code>.</p>
<p>??? example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```cpp
--8&lt;-- &quot;examples/diagnostics_extended.cpp&quot;
```

Output:

```
--8&lt;-- &quot;examples/diagnostics_extended.output&quot;
```

Now the exception message contains a JSON Pointer `/address/housenumber` that indicates which value has the wrong type.
</pre></div>
</div>
</div>
</div>
<div class="section" id="parse-errors">
<h2>Parse errors<a class="headerlink" href="#parse-errors" title="Permalink to this headline">¶</a></h2>
<p>This exception is thrown by the library when a parse error occurs. Parse errors
can occur during the deserialization of JSON text, CBOR, MessagePack, as well
as when using JSON Patch.</p>
<p>Exceptions have ids 1xx.</p>
<p>!!! info “Byte index”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Member `byte` holds the byte index of the last read character in the input
file.

For an input with n bytes, 1 is the index of the first character and n+1
is the index of the terminating null byte or the end of file. This also
holds true when reading a byte vector (CBOR or MessagePack).
</pre></div>
</div>
<p>??? example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>The following code shows how a `parse_error` exception can be caught.

```cpp
--8&lt;-- &quot;examples/parse_error.cpp&quot;
```

Output:

```
--8&lt;-- &quot;examples/parse_error.output&quot;
```
</pre></div>
</div>
<div class="section" id="json-exception-parse-error-101">
<h3>json.exception.parse_error.101<a class="headerlink" href="#json-exception-parse-error-101" title="Permalink to this headline">¶</a></h3>
<p>This error indicates a syntax error while deserializing a JSON text. The error message describes that an unexpected token (character) was encountered, and the member <code class="docutils literal notranslate"><span class="pre">byte</span></code> indicates the error position.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Input ended prematurely:

```
[json.exception.parse_error.101] parse error at 2: unexpected end of input; expected string literal
```

No input:

```
[json.exception.parse_error.101] parse error at line 1, column 1: syntax error while parsing value - unexpected end of input; expected &#39;[&#39;, &#39;{&#39;, or a literal
```

Control character was not escaped:

```
[json.exception.parse_error.101] parse error at line 1, column 2: syntax error while parsing value - invalid string: control character U+0009 (HT) must be escaped to \u0009 or \\; last read: &#39;&quot;&lt;U+0009&gt;&#39;&quot;
```

String was not closed:

```
[json.exception.parse_error.101] parse error at line 1, column 2: syntax error while parsing value - invalid string: missing closing quote; last read: &#39;&quot;&#39;
```

Invalid number format:

```
[json.exception.parse_error.101] parse error at line 1, column 3: syntax error while parsing value - invalid number; expected &#39;+&#39;, &#39;-&#39;, or digit after exponent; last read: &#39;1E&#39;
```

`\u` was not be followed by four hex digits:

```
[json.exception.parse_error.101] parse error at line 1, column 6: syntax error while parsing value - invalid string: &#39;\u&#39; must be followed by 4 hex digits; last read: &#39;&quot;\u01&quot;&#39;
```

Invalid UTF-8 surrogate pair:

```
[json.exception.parse_error.101] parse error at line 1, column 13: syntax error while parsing value - invalid string: surrogate U+DC00..U+DFFF must follow U+D800..U+DBFF; last read: &#39;&quot;\uD7FF\uDC00&#39;&quot;
```

Invalid UTF-8 byte:

```
[json.exception.parse_error.101] parse error at line 3, column 24: syntax error while parsing value - invalid string: ill-formed UTF-8 byte; last read: &#39;&quot;vous \352t&#39;
```
</pre></div>
</div>
<p>!!! tip</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span> <span class="n">Make</span> <span class="n">sure</span> <span class="n">the</span> <span class="nb">input</span> <span class="ow">is</span> <span class="n">correctly</span> <span class="n">read</span><span class="o">.</span> <span class="n">Try</span> <span class="n">to</span> <span class="n">write</span> <span class="n">the</span> <span class="nb">input</span> <span class="n">to</span> <span class="n">standard</span> <span class="n">output</span> <span class="n">to</span> <span class="n">check</span> <span class="k">if</span><span class="p">,</span> <span class="k">for</span> <span class="n">instance</span><span class="p">,</span> <span class="n">the</span> <span class="nb">input</span> <span class="n">file</span> <span class="n">was</span> <span class="n">successfully</span> <span class="n">opened</span><span class="o">.</span>
<span class="o">-</span> <span class="n">Paste</span> <span class="n">the</span> <span class="nb">input</span> <span class="n">to</span> <span class="n">a</span> <span class="n">JSON</span> <span class="n">validator</span> <span class="n">like</span> <span class="o">&lt;</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">jsonlint</span><span class="o">.</span><span class="n">com</span><span class="o">&gt;</span> <span class="ow">or</span> <span class="n">a</span> <span class="n">tool</span> <span class="n">like</span> <span class="p">[</span><span class="n">jq</span><span class="p">](</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">stedolan</span><span class="o">.</span><span class="n">github</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">jq</span><span class="o">/</span><span class="p">)</span><span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="json-exception-parse-error-102">
<h3>json.exception.parse_error.102<a class="headerlink" href="#json-exception-parse-error-102" title="Permalink to this headline">¶</a></h3>
<p>JSON uses the <code class="docutils literal notranslate"><span class="pre">\uxxxx</span></code> format to describe Unicode characters. Code points above above 0xFFFF are split into two <code class="docutils literal notranslate"><span class="pre">\uxxxx</span></code> entries (“surrogate pairs”). This error indicates that the surrogate pair is incomplete or contains an invalid code point.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
parse error at 14: missing or wrong low surrogate
```
</pre></div>
</div>
<p>!!! note</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">This</span> <span class="n">exception</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">used</span> <span class="nb">any</span> <span class="n">more</span><span class="o">.</span> <span class="n">Instead</span> <span class="p">[</span><span class="n">json</span><span class="o">.</span><span class="n">exception</span><span class="o">.</span><span class="n">parse_error</span><span class="o">.</span><span class="mi">101</span><span class="p">](</span><span class="c1">#jsonexceptionparse_error101) with a more detailed description is used.</span>
</pre></div>
</div>
</div>
<div class="section" id="json-exception-parse-error-103">
<h3>json.exception.parse_error.103<a class="headerlink" href="#json-exception-parse-error-103" title="Permalink to this headline">¶</a></h3>
<p>Unicode supports code points up to 0x10FFFF. Code points above 0x10FFFF are invalid.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
parse error: code points above 0x10FFFF are invalid
```
</pre></div>
</div>
<p>!!! note</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">This</span> <span class="n">exception</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">used</span> <span class="nb">any</span> <span class="n">more</span><span class="o">.</span> <span class="n">Instead</span> <span class="p">[</span><span class="n">json</span><span class="o">.</span><span class="n">exception</span><span class="o">.</span><span class="n">parse_error</span><span class="o">.</span><span class="mi">101</span><span class="p">](</span><span class="c1">#jsonexceptionparse_error101) with a more detailed description is used.</span>
</pre></div>
</div>
</div>
<div class="section" id="json-exception-parse-error-104">
<h3>json.exception.parse_error.104<a class="headerlink" href="#json-exception-parse-error-104" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="https://tools.ietf.org/html/rfc6902">RFC 6902</a> requires a JSON Patch document to be a JSON document that represents an array of objects.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.parse_error.104] parse error: JSON patch must be an array of objects
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-parse-error-105">
<h3>json.exception.parse_error.105<a class="headerlink" href="#json-exception-parse-error-105" title="Permalink to this headline">¶</a></h3>
<p>An operation of a JSON Patch document must contain exactly one “op” member, whose value indicates the operation to perform. Its value must be one of “add”, “remove”, “replace”, “move”, “copy”, or “test”; other values are errors.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.parse_error.105] parse error: operation &#39;add&#39; must have member &#39;value&#39;
```
```
[json.exception.parse_error.105] parse error: operation &#39;copy&#39; must have string member &#39;from&#39;
```
```
[json.exception.parse_error.105] parse error: operation value &#39;foo&#39; is invalid
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-parse-error-106">
<h3>json.exception.parse_error.106<a class="headerlink" href="#json-exception-parse-error-106" title="Permalink to this headline">¶</a></h3>
<p>An array index in a JSON Pointer (<a class="reference external" href="https://tools.ietf.org/html/rfc6901">RFC 6901</a>) may be <code class="docutils literal notranslate"><span class="pre">0</span></code> or any number without a leading <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.parse_error.106] parse error: array index &#39;01&#39; must not begin with &#39;0&#39;
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-parse-error-107">
<h3>json.exception.parse_error.107<a class="headerlink" href="#json-exception-parse-error-107" title="Permalink to this headline">¶</a></h3>
<p>A JSON Pointer must be a Unicode string containing a sequence of zero or more reference tokens, each prefixed by a <code class="docutils literal notranslate"><span class="pre">/</span></code> character.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.parse_error.107] parse error at byte 1: JSON pointer must be empty or begin with &#39;/&#39; - was: &#39;foo&#39;
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-parse-error-108">
<h3>json.exception.parse_error.108<a class="headerlink" href="#json-exception-parse-error-108" title="Permalink to this headline">¶</a></h3>
<p>In a JSON Pointer, only <code class="docutils literal notranslate"><span class="pre">~0</span></code> and <code class="docutils literal notranslate"><span class="pre">~1</span></code> are valid escape sequences.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.parse_error.108] parse error: escape character &#39;~&#39; must be followed with &#39;0&#39; or &#39;1&#39;
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-parse-error-109">
<h3>json.exception.parse_error.109<a class="headerlink" href="#json-exception-parse-error-109" title="Permalink to this headline">¶</a></h3>
<p>A JSON Pointer array index must be a number.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.parse_error.109] parse error: array index &#39;one&#39; is not a number
```
```
[json.exception.parse_error.109] parse error: array index &#39;+1&#39; is not a number
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-parse-error-110">
<h3>json.exception.parse_error.110<a class="headerlink" href="#json-exception-parse-error-110" title="Permalink to this headline">¶</a></h3>
<p>When parsing CBOR or MessagePack, the byte vector ends before the complete value has been read.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.parse_error.110] parse error at byte 5: syntax error while parsing CBOR string: unexpected end of input
```
```
[json.exception.parse_error.110] parse error at byte 2: syntax error while parsing UBJSON value: expected end of input; last byte: 0x5A
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-parse-error-112">
<h3>json.exception.parse_error.112<a class="headerlink" href="#json-exception-parse-error-112" title="Permalink to this headline">¶</a></h3>
<p>Not all types of CBOR or MessagePack are supported. This exception occurs if an unsupported byte was read.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.parse_error.112] parse error at byte 1: syntax error while parsing CBOR value: invalid byte: 0x1C
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-parse-error-113">
<h3>json.exception.parse_error.113<a class="headerlink" href="#json-exception-parse-error-113" title="Permalink to this headline">¶</a></h3>
<p>While parsing a map key, a value that is not a string has been read.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.parse_error.113] parse error at byte 2: syntax error while parsing CBOR string: expected length specification (0x60-0x7B) or indefinite string type (0x7F); last byte: 0xFF
```
```
[json.exception.parse_error.113] parse error at byte 2: syntax error while parsing MessagePack string: expected length specification (0xA0-0xBF, 0xD9-0xDB); last byte: 0xFF
```
```
[json.exception.parse_error.113] parse error at byte 2: syntax error while parsing UBJSON char: byte after &#39;C&#39; must be in range 0x00..0x7F; last byte: 0x82
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-parse-error-114">
<h3>json.exception.parse_error.114<a class="headerlink" href="#json-exception-parse-error-114" title="Permalink to this headline">¶</a></h3>
<p>The parsing of the corresponding BSON record type is not implemented (yet).</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.parse_error.114] parse error at byte 5: Unsupported BSON record type 0xFF
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-parse-error-115">
<h3>json.exception.parse_error.115<a class="headerlink" href="#json-exception-parse-error-115" title="Permalink to this headline">¶</a></h3>
<p>A UBJSON high-precision number could not be parsed.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.parse_error.115] parse error at byte 5: syntax error while parsing UBJSON high-precision number: invalid number text: 1A
```
</pre></div>
</div>
</div>
</div>
<div class="section" id="iterator-errors">
<h2>Iterator errors<a class="headerlink" href="#iterator-errors" title="Permalink to this headline">¶</a></h2>
<p>This exception is thrown if iterators passed to a library function do not match
the expected semantics.</p>
<p>Exceptions have ids 2xx.</p>
<p>??? example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>The following code shows how an `invalid_iterator` exception can be caught.

```cpp
--8&lt;-- &quot;examples/invalid_iterator.cpp&quot;
```

Output:

```
--8&lt;-- &quot;examples/invalid_iterator.output&quot;
```
</pre></div>
</div>
<div class="section" id="json-exception-invalid-iterator-201">
<h3>json.exception.invalid_iterator.201<a class="headerlink" href="#json-exception-invalid-iterator-201" title="Permalink to this headline">¶</a></h3>
<p>The iterators passed to constructor <code class="docutils literal notranslate"><span class="pre">basic_json(InputIT</span> <span class="pre">first,</span> <span class="pre">InputIT</span> <span class="pre">last)</span></code> are not compatible, meaning they do not belong to the same container. Therefore, the range (<code class="docutils literal notranslate"><span class="pre">first</span></code>, <code class="docutils literal notranslate"><span class="pre">last</span></code>) is invalid.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.invalid_iterator.201] iterators are not compatible
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-invalid-iterator-202">
<h3>json.exception.invalid_iterator.202<a class="headerlink" href="#json-exception-invalid-iterator-202" title="Permalink to this headline">¶</a></h3>
<p>In an <a class="reference internal" href="../api/basic_json/erase.html"><span class="doc">erase</span></a> or insert function, the passed iterator <code class="docutils literal notranslate"><span class="pre">pos</span></code> does not belong to the JSON value for which the function was called. It hence does not define a valid position for the deletion/insertion.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.invalid_iterator.202] iterator does not fit current value
```
```
[json.exception.invalid_iterator.202] iterators first and last must point to objects
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-invalid-iterator-203">
<h3>json.exception.invalid_iterator.203<a class="headerlink" href="#json-exception-invalid-iterator-203" title="Permalink to this headline">¶</a></h3>
<p>Either iterator passed to function <a class="reference internal" href="../api/basic_json/erase.html"><span class="doc">erase(IteratorType first, IteratorType last)</span></a> does not belong to the JSON value from which values shall be erased. It hence does not define a valid range to delete values from.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.invalid_iterator.203] iterators do not fit current value
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-invalid-iterator-204">
<h3>json.exception.invalid_iterator.204<a class="headerlink" href="#json-exception-invalid-iterator-204" title="Permalink to this headline">¶</a></h3>
<p>When an iterator range for a primitive type (number, boolean, or string) is passed to a constructor or an <a class="reference internal" href="../api/basic_json/erase.html"><span class="doc">erase</span></a> function, this range has to be exactly (<code class="docutils literal notranslate"><span class="pre">begin(),</span></code> <code class="docutils literal notranslate"><span class="pre">end()),</span></code> because this is the only way the single stored value is expressed. All other ranges are invalid.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.invalid_iterator.204] iterators out of range
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-invalid-iterator-205">
<h3>json.exception.invalid_iterator.205<a class="headerlink" href="#json-exception-invalid-iterator-205" title="Permalink to this headline">¶</a></h3>
<p>When an iterator for a primitive type (number, boolean, or string) is passed to an <a class="reference internal" href="../api/basic_json/erase.html"><span class="doc">erase</span></a> function, the iterator has to be the <code class="docutils literal notranslate"><span class="pre">begin()</span></code> iterator, because it is the only way to address the stored value. All other iterators are invalid.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.invalid_iterator.205] iterator out of range
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-invalid-iterator-206">
<h3>json.exception.invalid_iterator.206<a class="headerlink" href="#json-exception-invalid-iterator-206" title="Permalink to this headline">¶</a></h3>
<p>The iterators passed to constructor <code class="docutils literal notranslate"><span class="pre">basic_json(InputIT</span> <span class="pre">first,</span> <span class="pre">InputIT</span> <span class="pre">last)</span></code> belong to a JSON null value and hence to not define a valid range.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.invalid_iterator.206] cannot construct with iterators from null
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-invalid-iterator-207">
<h3>json.exception.invalid_iterator.207<a class="headerlink" href="#json-exception-invalid-iterator-207" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">key()</span></code> member function can only be used on iterators belonging to a JSON object, because other types do not have a concept of a key.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.invalid_iterator.207] cannot use key() for non-object iterators
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-invalid-iterator-208">
<h3>json.exception.invalid_iterator.208<a class="headerlink" href="#json-exception-invalid-iterator-208" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">operator[]</span></code> to specify a concrete offset cannot be used on iterators belonging to a JSON object, because JSON objects are unordered.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.invalid_iterator.208] cannot use operator[] for object iterators
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-invalid-iterator-209">
<h3>json.exception.invalid_iterator.209<a class="headerlink" href="#json-exception-invalid-iterator-209" title="Permalink to this headline">¶</a></h3>
<p>The offset operators (<code class="docutils literal notranslate"><span class="pre">+</span></code>, <code class="docutils literal notranslate"><span class="pre">-</span></code>, <code class="docutils literal notranslate"><span class="pre">+=</span></code>, <code class="docutils literal notranslate"><span class="pre">-=</span></code>) cannot be used on iterators belonging to a JSON object, because JSON objects are unordered.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.invalid_iterator.209] cannot use offsets with object iterators
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-invalid-iterator-210">
<h3>json.exception.invalid_iterator.210<a class="headerlink" href="#json-exception-invalid-iterator-210" title="Permalink to this headline">¶</a></h3>
<p>The iterator range passed to the insert function are not compatible, meaning they do not belong to the same container. Therefore, the range (<code class="docutils literal notranslate"><span class="pre">first</span></code>, <code class="docutils literal notranslate"><span class="pre">last</span></code>) is invalid.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.invalid_iterator.210] iterators do not fit
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-invalid-iterator-211">
<h3>json.exception.invalid_iterator.211<a class="headerlink" href="#json-exception-invalid-iterator-211" title="Permalink to this headline">¶</a></h3>
<p>The iterator range passed to the insert function must not be a subrange of the container to insert to.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.invalid_iterator.211] passed iterators may not belong to container
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-invalid-iterator-212">
<h3>json.exception.invalid_iterator.212<a class="headerlink" href="#json-exception-invalid-iterator-212" title="Permalink to this headline">¶</a></h3>
<p>When two iterators are compared, they must belong to the same container.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.invalid_iterator.212] cannot compare iterators of different containers
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-invalid-iterator-213">
<h3>json.exception.invalid_iterator.213<a class="headerlink" href="#json-exception-invalid-iterator-213" title="Permalink to this headline">¶</a></h3>
<p>The order of object iterators cannot be compared, because JSON objects are unordered.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.invalid_iterator.213] cannot compare order of object iterators
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-invalid-iterator-214">
<h3>json.exception.invalid_iterator.214<a class="headerlink" href="#json-exception-invalid-iterator-214" title="Permalink to this headline">¶</a></h3>
<p>Cannot get value for iterator: Either the iterator belongs to a null value or it is an iterator to a primitive type (number, boolean, or string), but the iterator is different to <code class="docutils literal notranslate"><span class="pre">begin()</span></code>.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.invalid_iterator.214] cannot get value
```
</pre></div>
</div>
</div>
</div>
<div class="section" id="type-errors">
<h2>Type errors<a class="headerlink" href="#type-errors" title="Permalink to this headline">¶</a></h2>
<p>This exception is thrown in case of a type error; that is, a library function is executed on a JSON value whose type does not match the expected semantics.</p>
<p>Exceptions have ids 3xx.</p>
<p>??? example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>The following code shows how a `type_error` exception can be caught.

```cpp
--8&lt;-- &quot;examples/type_error.cpp&quot;
```

Output:

```
--8&lt;-- &quot;examples/type_error.output&quot;
```
</pre></div>
</div>
<div class="section" id="json-exception-type-error-301">
<h3>json.exception.type_error.301<a class="headerlink" href="#json-exception-type-error-301" title="Permalink to this headline">¶</a></h3>
<p>To create an object from an initializer list, the initializer list must consist only of a list of pairs whose first element is a string. When this constraint is violated, an array is created instead.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.type_error.301] cannot create object from initializer list
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-type-error-302">
<h3>json.exception.type_error.302<a class="headerlink" href="#json-exception-type-error-302" title="Permalink to this headline">¶</a></h3>
<p>During implicit or explicit value conversion, the JSON type must be compatible to the target type. For instance, a JSON string can only be converted into string types, but not into numbers or boolean types.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.type_error.302] type must be object, but is null
```
```
[json.exception.type_error.302] type must be string, but is object
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-type-error-303">
<h3>json.exception.type_error.303<a class="headerlink" href="#json-exception-type-error-303" title="Permalink to this headline">¶</a></h3>
<p>To retrieve a reference to a value stored in a <code class="docutils literal notranslate"><span class="pre">basic_json</span></code> object with <code class="docutils literal notranslate"><span class="pre">get_ref</span></code>, the type of the reference must match the value type. For instance, for a JSON array, the <code class="docutils literal notranslate"><span class="pre">ReferenceType</span></code> must be <code class="docutils literal notranslate"><span class="pre">array_t</span> <span class="pre">&amp;</span></code>.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.type_error.303] incompatible ReferenceType for get_ref, actual type is object
```
```
[json.exception.type_error.303] incompatible ReferenceType for get_ref, actual type is number&quot;
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-type-error-304">
<h3>json.exception.type_error.304<a class="headerlink" href="#json-exception-type-error-304" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">at()</span></code> member functions can only be executed for certain JSON types.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.type_error.304] cannot use at() with string
```
```
[json.exception.type_error.304] cannot use at() with number
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-type-error-305">
<h3>json.exception.type_error.305<a class="headerlink" href="#json-exception-type-error-305" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">operator[]</span></code> member functions can only be executed for certain JSON types.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.type_error.305] cannot use operator[] with a string argument with array
```
```
[json.exception.type_error.305] cannot use operator[] with a numeric argument with object
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-type-error-306">
<h3>json.exception.type_error.306<a class="headerlink" href="#json-exception-type-error-306" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">value()</span></code> member functions can only be executed for certain JSON types.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.type_error.306] cannot use value() with number
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-type-error-307">
<h3>json.exception.type_error.307<a class="headerlink" href="#json-exception-type-error-307" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference internal" href="../api/basic_json/erase.html"><span class="doc">erase()</span></a> member functions can only be executed for certain JSON types.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.type_error.307] cannot use erase() with string
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-type-error-308">
<h3>json.exception.type_error.308<a class="headerlink" href="#json-exception-type-error-308" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">push_back()</span></code> and <code class="docutils literal notranslate"><span class="pre">operator+=</span></code> member functions can only be executed for certain JSON types.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.type_error.308] cannot use push_back() with string
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-type-error-309">
<h3>json.exception.type_error.309<a class="headerlink" href="#json-exception-type-error-309" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">insert()</span></code> member functions can only be executed for certain JSON types.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.type_error.309] cannot use insert() with array
```
```
[json.exception.type_error.309] cannot use insert() with number
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-type-error-310">
<h3>json.exception.type_error.310<a class="headerlink" href="#json-exception-type-error-310" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">swap()</span></code> member functions can only be executed for certain JSON types.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.type_error.310] cannot use swap() with number
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-type-error-311">
<h3>json.exception.type_error.311<a class="headerlink" href="#json-exception-type-error-311" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">emplace()</span></code> and <code class="docutils literal notranslate"><span class="pre">emplace_back()</span></code> member functions can only be executed for certain JSON types.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.type_error.311] cannot use emplace() with number
```
```
[json.exception.type_error.311] cannot use emplace_back() with number
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-type-error-312">
<h3>json.exception.type_error.312<a class="headerlink" href="#json-exception-type-error-312" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">update()</span></code> member functions can only be executed for certain JSON types.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.type_error.312] cannot use update() with array
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-type-error-313">
<h3>json.exception.type_error.313<a class="headerlink" href="#json-exception-type-error-313" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">unflatten</span></code> function converts an object whose keys are JSON Pointers back into an arbitrary nested JSON value. The JSON Pointers must not overlap, because then the resulting value would not be well defined.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
[json.exception.type_error.313] invalid value to unflatten
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-type-error-314">
<h3>json.exception.type_error.314<a class="headerlink" href="#json-exception-type-error-314" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">unflatten</span></code> function only works for an object whose keys are JSON Pointers.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Calling `unflatten()` on an array `#!json [1,2,3]`:

```
[json.exception.type_error.314] only objects can be unflattened
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-type-error-315">
<h3>json.exception.type_error.315<a class="headerlink" href="#json-exception-type-error-315" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">unflatten()</span></code> function only works for an object whose keys are JSON Pointers and whose values are primitive.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Calling `unflatten()` on an object `#!json {&quot;/1&quot;, [1,2,3]}`:

```
[json.exception.type_error.315] values in object must be primitive
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-type-error-316">
<h3>json.exception.type_error.316<a class="headerlink" href="#json-exception-type-error-316" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">dump()</span></code> function only works with UTF-8 encoded strings; that is, if you assign a <code class="docutils literal notranslate"><span class="pre">std::string</span></code> to a JSON value, make sure it is UTF-8 encoded.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Calling `dump()` on a JSON value containing an ISO 8859-1 encoded string:
```
[json.exception.type_error.316] invalid UTF-8 byte at index 15: 0x6F
```
</pre></div>
</div>
<p>!!! tip</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>- Store the source file with UTF-8 encoding.
- Pass an error handler as last parameter to the `dump()` function to avoid this exception:
    - `json::error_handler_t::replace` will replace invalid bytes sequences with `U+FFFD` 
    - `json::error_handler_t::ignore` will silently ignore invalid byte sequences
</pre></div>
</div>
</div>
<div class="section" id="json-exception-type-error-317">
<h3>json.exception.type_error.317<a class="headerlink" href="#json-exception-type-error-317" title="Permalink to this headline">¶</a></h3>
<p>The dynamic type of the object cannot be represented in the requested serialization format (e.g. a raw <code class="docutils literal notranslate"><span class="pre">true</span></code> or <code class="docutils literal notranslate"><span class="pre">null</span></code> JSON object cannot be serialized to BSON)</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Serializing `#!json null` to BSON:
```
[json.exception.type_error.317] to serialize to BSON, top-level type must be object, but is null
```
Serializing `#!json [1,2,3]` to BSON:
```
[json.exception.type_error.317] to serialize to BSON, top-level type must be object, but is array
```
</pre></div>
</div>
<p>!!! tip</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Encapsulate the JSON value in an object. That is, instead of serializing `#!json true`, serialize `#!json {&quot;value&quot;: true}`
</pre></div>
</div>
</div>
</div>
<div class="section" id="out-of-range">
<h2>Out of range<a class="headerlink" href="#out-of-range" title="Permalink to this headline">¶</a></h2>
<p>This exception is thrown in case a library function is called on an input parameter that exceeds the expected range, for instance in case of array indices or nonexisting object keys.</p>
<p>Exceptions have ids 4xx.</p>
<p>??? example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>The following code shows how an `out_of_range` exception can be caught.

```cpp
--8&lt;-- &quot;examples/out_of_range.cpp&quot;
```

Output:

```
--8&lt;-- &quot;examples/out_of_range.output&quot;
```
</pre></div>
</div>
<div class="section" id="json-exception-out-of-range-401">
<h3>json.exception.out_of_range.401<a class="headerlink" href="#json-exception-out-of-range-401" title="Permalink to this headline">¶</a></h3>
<p>The provided array index <code class="docutils literal notranslate"><span class="pre">i</span></code> is larger than <code class="docutils literal notranslate"><span class="pre">size-1</span></code>.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
array index 3 is out of range
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-out-of-range-402">
<h3>json.exception.out_of_range.402<a class="headerlink" href="#json-exception-out-of-range-402" title="Permalink to this headline">¶</a></h3>
<p>The special array index <code class="docutils literal notranslate"><span class="pre">-</span></code> in a JSON Pointer never describes a valid element of the array, but the index past the end. That is, it can only be used to add elements at this position, but not to read it.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
array index &#39;-&#39; (3) is out of range
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-out-of-range-403">
<h3>json.exception.out_of_range.403<a class="headerlink" href="#json-exception-out-of-range-403" title="Permalink to this headline">¶</a></h3>
<p>The provided key was not found in the JSON object.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
key &#39;foo&#39; not found
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-out-of-range-404">
<h3>json.exception.out_of_range.404<a class="headerlink" href="#json-exception-out-of-range-404" title="Permalink to this headline">¶</a></h3>
<p>A reference token in a JSON Pointer could not be resolved.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
unresolved reference token &#39;foo&#39;
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-out-of-range-405">
<h3>json.exception.out_of_range.405<a class="headerlink" href="#json-exception-out-of-range-405" title="Permalink to this headline">¶</a></h3>
<p>The JSON Patch operations ‘remove’ and ‘add’ can not be applied to the root element of the JSON value.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
JSON pointer has no parent
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-out-of-range-406">
<h3>json.exception.out_of_range.406<a class="headerlink" href="#json-exception-out-of-range-406" title="Permalink to this headline">¶</a></h3>
<p>A parsed number could not be stored as without changing it to NaN or INF.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
number overflow parsing &#39;10E1000&#39;
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-out-of-range-407">
<h3>json.exception.out_of_range.407<a class="headerlink" href="#json-exception-out-of-range-407" title="Permalink to this headline">¶</a></h3>
<p>UBJSON and BSON only support integer numbers up to 9223372036854775807.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
number overflow serializing &#39;9223372036854775808&#39;
```
</pre></div>
</div>
<p>!!! note</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Since</span> <span class="n">version</span> <span class="mf">3.9</span><span class="o">.</span><span class="mi">0</span><span class="p">,</span> <span class="n">integer</span> <span class="n">numbers</span> <span class="n">beyond</span> <span class="n">int64</span> <span class="n">are</span> <span class="n">serialized</span> <span class="k">as</span> <span class="n">high</span><span class="o">-</span><span class="n">precision</span> <span class="n">UBJSON</span> <span class="n">numbers</span><span class="p">,</span> <span class="ow">and</span> <span class="n">this</span> <span class="n">exception</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">further</span> <span class="n">occur</span><span class="o">.</span> 
</pre></div>
</div>
</div>
<div class="section" id="json-exception-out-of-range-408">
<h3>json.exception.out_of_range.408<a class="headerlink" href="#json-exception-out-of-range-408" title="Permalink to this headline">¶</a></h3>
<p>The size (following <code class="docutils literal notranslate"><span class="pre">#</span></code>) of an UBJSON array or object exceeds the maximal capacity.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
excessive array size: 8658170730974374167
```
</pre></div>
</div>
</div>
<div class="section" id="json-exception-out-of-range-409">
<h3>json.exception.out_of_range.409<a class="headerlink" href="#json-exception-out-of-range-409" title="Permalink to this headline">¶</a></h3>
<p>Key identifiers to be serialized to BSON cannot contain code point U+0000, since the key is stored as zero-terminated c-string.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>```
BSON key cannot contain code point U+0000 (at byte 2)
```
</pre></div>
</div>
</div>
</div>
<div class="section" id="further-exceptions">
<h2>Further exceptions<a class="headerlink" href="#further-exceptions" title="Permalink to this headline">¶</a></h2>
<p>This exception is thrown in case of errors that cannot be classified with the
other exception types.</p>
<p>Exceptions have ids 5xx.</p>
<p>??? example</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>The following code shows how an `other_error` exception can be caught.

```cpp
--8&lt;-- &quot;examples/other_error.cpp&quot;
```

Output:

```
--8&lt;-- &quot;examples/other_error.output&quot;
```
</pre></div>
</div>
<div class="section" id="json-exception-other-error-501">
<h3>json.exception.other_error.501<a class="headerlink" href="#json-exception-other-error-501" title="Permalink to this headline">¶</a></h3>
<p>A JSON Patch operation ‘test’ failed. The unsuccessful operation is also printed.</p>
<p>!!! failure “Example message”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Executing `#!json {&quot;op&quot;:&quot;test&quot;, &quot;path&quot;:&quot;/baz&quot;, &quot;value&quot;:&quot;bar&quot;}` on `#!json {&quot;baz&quot;: &quot;qux&quot;}`:

```
[json.exception.other_error.501] unsuccessful: {&quot;op&quot;:&quot;test&quot;,&quot;path&quot;:&quot;/baz&quot;,&quot;value&quot;:&quot;bar&quot;}
```
</pre></div>
</div>
</div>
</div>
</div>


                        
                    </div>
                </div>
            </div>
        </div>
    </div>    


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../../../../',
            VERSION:'1.0.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
    <script type="text/javascript" src="../../../../../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../../../../../_static/clipboard.min.js"></script>
    <script type="text/javascript" src="../../../../../../../_static/copybutton.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script type="text/javascript" src="../../../../../../../_static/js/theme.js"></script>
  
    <div class="footer" role="contentinfo">
        <div class="container">
            &#169; Copyright bladedisc-dev@list.alibaba-inc.com.
        Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.3.2.
        </div>
    </div>  

</body>
</html>